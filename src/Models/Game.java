package Models;

import java.util.Arrays;

public class Game {

    private int[] firstStonesPositions;

    private int[] secondStonesPositions;



    public Game()
    {
        this.firstStonesPositions=new int[4];
        this.secondStonesPositions=new int[4];

    }

    public Game(Game game)
    {
      this.firstStonesPositions = Arrays.copyOf(game.firstStonesPositions, game.firstStonesPositions.length);
      this.secondStonesPositions = Arrays.copyOf(game.secondStonesPositions, game.secondStonesPositions.length);

      this.firstPlayerBoard = Arrays.copyOf(game.firstPlayerBoard, game.firstPlayerBoard.length);
      this.secondPlayerBoard = Arrays.copyOf(game.secondPlayerBoard, game.secondPlayerBoard.length);


    }

    public void refreshBoard(){
        init();
        String[][] FirstBoard = this.firstPlayerBoard;
        String[][] SecondBoard = this.secondPlayerBoard;


        //First Player
        for (int i = 0; i < 19; i++) {
            for (int j = 0; j < 19; j++) {
                int temp = extractCellNumber(FirstBoard[i][j]);
                for (int k=1;k<=firstStonesPositions.length;k++) {
                    if (firstStonesPositions[k-1] > 75){
                        int fixedPos = fixPosition(firstStonesPositions[k-1]);

                        if (fixedPos == temp){
                            String stone = "*";
                            stone+=k;
                            FirstBoard[i][j]+=stone;
                        }
                    }

                    else{
                        if(firstStonesPositions[k-1] == temp) {
                            String stone = "*";
                            stone+=k;
                            FirstBoard[i][j]+=stone;
                        }
                    }
                }

            }
        }

        //Second Player
        for (int i = 0; i < 19; i++) {
            for (int j = 0; j < 19; j++) {
                int temp = extractCellNumber(SecondBoard[i][j]);
                for (int k=1;k<=secondStonesPositions.length;k++) {
                    if (secondStonesPositions[k-1] > 75){
                        int fixedPos = fixPosition(secondStonesPositions[k-1]);

                        if (fixedPos == temp){
                            String stone = "#";
                            stone+=k;
                            SecondBoard[i][j]+=stone;
                        }
                    }

                    else{
                        if(secondStonesPositions[k-1] == temp) {
                            String stone = "#";
                            stone+=k;
                            SecondBoard[i][j]+=stone;
                        }
                    }
                }

            }
        }
    }

    public int fixPosition(int pos){
        if(pos == 76) return 8;
        if(pos == 77) return 7;
        if(pos == 78) return 6;
        if(pos == 79) return 5;
        if(pos == 80) return 4;
        if(pos == 81) return 3;
        if(pos == 82) return 2;
        if(pos == 83) return 1;
        return 404;

    }

    public int extractCellNumber(String input) {
        StringBuilder numberBuilder = new StringBuilder();

        for (char character : input.toCharArray()) {
            if (Character.isDigit(character)) {
                numberBuilder.append(character);
            } else {
                break;
            }
        }

        try {
            return Integer.parseInt(numberBuilder.toString());
        } catch (NumberFormatException e) {
            return -1;
        }
    }

    public void init(){
        String[][] firstPlayerBoard = {
                {" ", " ", " ", " ", " ", " ", " ", " ", "43", "42", "41", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "44", "_", "40", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "45", "_", "39", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "46", "_", "38", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "47", "_", "37", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "48", "_", "36", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "49", "_", "35", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "50", "_", "34", " ", " ", " ", " ", " ", " ", " ", " "},
                {"58", "57", "56", "55", "54", "53", "52", "51", "O", "O", "O", "33", "32", "31", "30", "29", "28", "27", "26"},
                {"59", "_", "_", "_", "_", "_", "_", "_", "O", "O", "O", "_", "_", "_", "_", "_", "_", "_", "25"},
                {"60", "61", "62", "63", "64", "65", "66", "67", "O", "O", "O", "17", "18", "19", "20", "21", "22", "23", "24"},
                {" ", " ", " ", " ", " ", " ", " ", " ", "68", "1", "16", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "69", "2", "15", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "70", "3", "14", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "71", "4", "13", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "72", "5", "12", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "73", "6", "11", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "74", "7", "10", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "75", "8", "9", " ", " ", " ", " ", " ", " ", " ", " "}
        };

        String[][] secondPlayerBoard = {
                {" ", " ", " ", " ", " ", " ", " ", " ", "9", "8", "75", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "10", "7", "74", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "11", "6", "73", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "12", "5", "72", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "13", "4", "71", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "14", "3", "70", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "15", "2", "69", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "16", "1", "68", " ", " ", " ", " ", " ", " ", " ", " "},
                {"24", "23", "22", "21", "20", "19", "18", "17", "O", "O", "O", "67", "66", "65", "64", "63", "62", "61", "60"},
                {"25", "_", "_", "_", "_", "_", "_", "_", "O", "O", "O", "_", "_", "_", "_", "_", "_", "_", "59"},
                {"26", "27", "28", "29", "30", "31", "32", "33", "O", "O", "O", "51", "52", "53", "54", "55", "56", "57", "58"},
                {" ", " ", " ", " ", " ", " ", " ", " ", "34", "_", "50", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "35", "_", "49", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "36", "_", "48", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "37", "_", "47", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "38", "_", "46", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "39", "_", "45", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "40", "_", "44", " ", " ", " ", " ", " ", " ", " ", " "},
                {" ", " ", " ", " ", " ", " ", " ", " ", "41", "42", "43", " ", " ", " ", " ", " ", " ", " ", " "},
        };


            for(int i=0;i<19;i++)
                System.arraycopy(firstPlayerBoard[i], 0, this.firstPlayerBoard[i], 0, 19);

            for(int i=0;i<19;i++)
                System.arraycopy(secondPlayerBoard[i], 0, this.secondPlayerBoard[i], 0, 19);


    }

    public void setFirstStonesPositions(int[] firstStonesPositions) {
        this.firstStonesPositions = firstStonesPositions;
    }

    public void setSecondStonesPositions(int[] secondStonesPositions) {
        this.secondStonesPositions = secondStonesPositions;
    }

    public int[] getFirstStonesPositions() {
        return firstStonesPositions;
    }

    public int[] getSecondStonesPositions() {
        return secondStonesPositions;
    }

    String[][] firstPlayerBoard = {
            {" ", " ", " ", " ", " ", " ", " ", " ", "43", "42", "41", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "44", "_", "40", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "45", "_", "39", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "46", "_", "38", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "47", "_", "37", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "48", "_", "36", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "49", "_", "35", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "50", "_", "34", " ", " ", " ", " ", " ", " ", " ", " "},
            {"58", "57", "56", "55", "54", "53", "52", "51", "O", "O", "O", "33", "32", "31", "30", "29", "28", "27", "26"},
            {"59", "_", "_", "_", "_", "_", "_", "_", "O", "O", "O", "_", "_", "_", "_", "_", "_", "_", "25"},
            {"60", "61", "62", "63", "64", "65", "66", "67", "O", "O", "O", "17", "18", "19", "20", "21", "22", "23", "24"},
            {" ", " ", " ", " ", " ", " ", " ", " ", "68", "1", "16", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "69", "2", "15", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "70", "3", "14", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "71", "4", "13", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "72", "5", "12", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "73", "6", "11", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "74", "7", "10", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "75", "8", "9", " ", " ", " ", " ", " ", " ", " ", " "}
    };

    String[][] secondPlayerBoard = {
            {" ", " ", " ", " ", " ", " ", " ", " ", "9", "8", "75", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "10", "7", "74", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "11", "6", "73", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "12", "5", "72", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "13", "4", "71", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "14", "3", "70", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "15", "2", "69", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "16", "1", "68", " ", " ", " ", " ", " ", " ", " ", " "},
            {"24", "23", "22", "21", "20", "19", "18", "17", "O", "O", "O", "67", "66", "65", "64", "63", "62", "61", "60"},
            {"25", "_", "_", "_", "_", "_", "_", "_", "O", "O", "O", "_", "_", "_", "_", "_", "_", "_", "59"},
            {"26", "27", "28", "29", "30", "31", "32", "33", "O", "O", "O", "51", "52", "53", "54", "55", "56", "57", "58"},
            {" ", " ", " ", " ", " ", " ", " ", " ", "34", "_", "50", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "35", "_", "49", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "36", "_", "48", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "37", "_", "47", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "38", "_", "46", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "39", "_", "45", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "40", "_", "44", " ", " ", " ", " ", " ", " ", " ", " "},
            {" ", " ", " ", " ", " ", " ", " ", " ", "41", "42", "43", " ", " ", " ", " ", " ", " ", " ", " "},
    };



}
